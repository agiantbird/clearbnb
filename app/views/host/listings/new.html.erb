<h1>List your property</h1>

<%= render partial: "shared/errors" %>

<form action="/host/listings" method="post" class="md:grid md:grid-cols-3 md:gap-6">
	<input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">

	<div class="mt-5 md:mt-0 md:col-span-2">
		<label for="title" class="block text-sm font-medium text-gray-700">
			Title
		</label>
		<div class="mt-1">
			<input type="text" name="listing[title]" value="<%= @listing.title %>" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
		</div>
	</div>

	<label for="about">About</label>
	<textarea id="about" name="listing[about]"> <%= @listing.about %></textarea>

	<div data-controller="address" data-action="map-loaded@window->address#initGoogle">
		<label for "address">Address</label>
	 	<input type="text" id="address" data-address-target="input" autocomplete="off">

		
		<input type="hidden" name="listing[address_line1]" data-address-target="line1">
		<input type="hidden" name="listing[address_line2]" data-address-target="line2">
		<input type="hidden" name="listing[city]" data-address-target="city">
		<input type="hidden" name="listing[state]" data-address-target="state">
		<input type="hidden" name="listing[postal_code]" data-address-target="postal_code">
		<input type="hidden" name="listing[country]" data-address-target="country">
		<input type="hidden" name="listing[lat]" data-address-target="lat">
		<input type="hidden" name="listing[lng]" data-address-target="lng">

	</div>

	<label for="max_guests">How many people (maximum) can stay?</label>
	<input type="number" id="max_guests" name="listing[max_guests]" value="<%= @listing.max_guests %>" min="1" max="100" step="1">

	<input type="submit" value="Create listing">
</form>
